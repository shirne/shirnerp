{"version":3,"sources":["common.js","template.js","datetime.init.js","dialog.js","jquery.tag.js","backend.js","map.js"],"names":["del","obj","msg","dialog","confirm","location","href","$","attr","lang","key","window","language","randomString","len","charSet","str","allLen","length","i","randomPoz","Math","floor","random","substring","copy_obj","arr","JSON","parse","stringify","isObjectValueEqual","a","b","aProps","Object","getOwnPropertyNames","bProps","propName","array_combine","tostring","toString","callfunc","val","func","args","thisobj","split","argidx","indexOf","concat","apply","html_encode","html","temp","document","createElement","undefined","textContent","innerText","output","innerHTML","html_decode","text","pad_zero","n","c","Array","join","timestamp_date","timestamp","fmt","jsdate","Date","txt_weekdays","txt_ordin","1","2","3","21","22","23","31","txt_months","f","d","j","D","l","substr","getDate","w","N","S","getDay","z","getFullYear","W","nd2","L","nd","round","getTime","F","m","M","getMonth","t","y","Y","slice","getHours","A","toUpperCase","B","off","getTimezoneOffset","theSeconds","getMinutes","getSeconds","beat","String","g","G","h","H","s","O","abs","P","U","replace","iif","v","m1","m2","Number","prototype","format","fix","this","toFixed","unshift","trim","compile","data","list","temps","push","all","condition","cont","operation","conts","match","part","result","keys","dialogTpl","dialogIdx","format_btn","btn","isdefault","_typeof","type","Dialog","opts","btns","console","error","options","extend","id","header","footer","backdrop","tabindex","size","contentClass","onsure","onshow","onshown","onhide","onhidden","btncount","addbtn","splice","addbtns","closed","box","generBtn","opt","idx","getDefaultBtn","show","title","body","append","bodyClass","unbind","find","remove","css","height","overflow","keyboard","self","instance","on","click","modal","hide","close","message","time","success","warning","info","loading","cssClass","icon","dlg","setTimeout","alert","callback","called","iscallback","isPlainObject","iconMap","color","cancel","countdown","inteval","clearInterval","btnText","addClass","setInterval","removeClass","prompt","contentHtml","is_multi","multiset","content","multi","inputHtml","focus","inputs","each","input","action","actions","e","index","pickList","config","filter","url","call","isajax","name","searchHolder","idkey","titlekey","onRow","rowTemplate","current","exthtml","contentTpl","listbox","isloading","extField","htmlRow","ajax","dataType","json","code","trigger","pickUser","get_search_url","pickArticle","get_cate_url","pickProduct","titletpl","pickLocate","locate","settedLocate","mapbox","mapinfo","map","InitMap","address","lng","lat","search","setLocate","showAtCenter","keyCode","jQuery","Zepto","fn","tags","nm","onupdate","tpl","item","parents","labelgroup","before","updated","vals","label","tag","datetimepicker","transOption","option","newopt","tooltips","today","clear","selectMonth","prevMonth","nextMonth","selectYear","prevYear","nextYear","selectDecade","selectTime","prevDecade","nextDecade","prevCentury","nextCentury","locale","showClear","showTodayButton","showClose","keepInvalid","from","to","minDate","maxDate","radio_tab","radios","lists","prefix","is","curval","bindData","getData","fields","eq","closeThisPage","frameElement","top","closePage","curkey","updateThisTitle","updatePage","refreshFromPage","mapObj","mapBox","onPick","apis","baidu","google","tencent","gaode","BaseMap","mapkey","mapType","ishide","isshow","toshow","marker","infoWindow","BaiduMap","GoogleMap","infoOpts","width","TencentMap","GaodeMap","isAPIReady","pointToObject","objectToPoint","setMap","showInfo","getCenter","getAddress","rs","loadAPI","src","script","apiurl","appendChild","setInfoContent","addr","setTitle","setContent","center","showLocationInfo","pt","constructor","BMap","Map","addControl","NavigationControl","ScaleControl","OverviewMapControl","enableScrollWheelZoom","point","centerAndZoom","Marker","enableDragging","gc","Geocoder","addEventListener","getLocation","addOverlay","InfoWindow","object","Point","parseFloat","panTo","openInfoWindow","addComp","addressComponents","province","city","district","street","streetNumber","myGeo","getPoint","setPosition","maps","zoom","draggable","scaleControl","streetViewControl","zoomControl","position","addListener","getPosition","geocode","LatLng","setOptions","status","formatted_address","getLng","getLat","qq","align","ALIGN","BOTTOM_LEFT","margin","Size","setAnimation","MarkerAnimation","DOWN","complete","event","open","detail","setCenter","AMap","resizeEnable","dragEnable","plugin","ToolBar","Scale","OverView","setLang","setDraggable","lnglat","st","LngLat","regeocode","formattedAddress","maptype","toLowerCase","loc","stop_ajax","excelTpl","importExcel","importResult","sheets","file","sheet","FormData","cache","processData","contentType","xhr","ajaxSettings","upload","loaded","total","change","errors","reload","bread","menu","link","topmenu","target","ids","prop","checked","preventDefault","letter","needChecks","idchecks","parent","toggleClass","totext","tooltip","beforeSend","request","setRequestHeader","stopPropagation","tab","files","inputgroup","URL","createObjectURL","is_img","figure","img","origurl","figcap","form","isbtn","origText","removeAttr","percent","serialize","group","idele","infoele","user","username","mobile"],"mappings":"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","file":"app.min.js","sourcesContent":["function del(obj,msg) {\n    dialog.confirm(msg,function(){\n        location.href=$(obj).attr('href');\n    });\n    return false;\n}\n\nfunction lang(key) {\n    if(window.language && window.language[key]){\n        return window.language[key];\n    }\n    return key;\n}\n\nfunction randomString(len, charSet) {\n    charSet = charSet || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var str = '',allLen=charSet.length;\n    for (var i = 0; i < len; i++) {\n        var randomPoz = Math.floor(Math.random() * allLen);\n        str += charSet.substring(randomPoz,randomPoz+1);\n    }\n    return str;\n}\n\nfunction copy_obj(arr){\n    return JSON.parse(JSON.stringify(arr));\n}\n\nfunction isObjectValueEqual(a, b) {\n    if(!a && !b)return true;\n    if(!a || !b)return false;\n\n    // Of course, we can do it use for in\n    // Create arrays of property names\n    var aProps = Object.getOwnPropertyNames(a);\n    var bProps = Object.getOwnPropertyNames(b);\n\n    // If number of properties is different,\n    // objects are not equivalent\n    if (aProps.length != bProps.length) {\n        return false;\n    }\n\n    for (var i = 0; i < aProps.length; i++) {\n        var propName = aProps[i];\n\n        // If values of same property are not equal,\n        // objects are not equivalent\n        if (a[propName] !== b[propName]) {\n            return false;\n        }\n    }\n\n    // If we made it this far, objects\n    // are considered equivalent\n    return true;\n}\n\nfunction array_combine(a,b) {\n    var obj={};\n    for(var i=0;i<a.length;i++){\n        if(b.length<i+1)break;\n        obj[a[i]]=b[i];\n    }\n    return obj;\n}","\nNumber.prototype.format=function(fix){\n    if(fix===undefined)fix=2;\n    var num=this.toFixed(fix);\n    var z=num.split('.');\n    var format=[],f=z[0].split(''),l=f.length;\n    for(var i=0;i<l;i++){\n        if(i>0 && i % 3==0){\n            format.unshift(',');\n        }\n        format.unshift(f[l-i-1]);\n    }\n    return format.join('')+(z.length==2?'.'+z[1]:'');\n};\nif(!String.prototype.trim){\n    String.prototype.trim=function () {\n        return this.replace(/(^\\s+|\\s+$)/g,'');\n    }\n}\nString.prototype.compile=function(data,list){\n\n    if(list){\n        var temps=[];\n        for(var i in data){\n            temps.push(this.compile(data[i]));\n        }\n        return temps.join(\"\\n\");\n    }else{\n        return this.replace(/\\{if\\s+([^\\}]+)\\}([\\W\\w]*?){\\/if}/g,function(all, condition, cont){\n            var operation;\n            var conts=cont.split('{else}');\n            if(operation=condition.match(/\\s+(=+|<|>)\\s+/)){\n                operation=operation[0];\n                var part=condition.split(operation);\n                if(part[0].indexOf('@')===0){\n                    part[0]=data[part[0].replace('@','')];\n                }\n                if(part[1].indexOf('@')===0){\n                    part[1]=data[part[1].replace('@','')];\n                }\n                operation=operation.trim();\n                var result=false;\n                switch (operation){\n                    case '==':\n                        result = part[0] == part[1];\n                        break;\n                    case '===':\n                        result = part[0] === part[1];\n                        break;\n                    case '>':\n                        result = part[0] > part[1];\n                        break;\n                    case '<':\n                        result = part[0] < part[1];\n                        break;\n                }\n                if(result){\n                    return cont;\n                }else if(conts[1]){\n                    return conts[1];\n                }\n            }else {\n                if (data[condition.replace('@','')]) return conts[0];\n                else if(conts[1]) return conts[1];\n            }\n            return '';\n        }).replace(/\\{@([\\w\\d\\.]+)(?:\\|([\\w\\d]+)(?:\\s*=\\s*([^\\}]+))?)?\\}/g,function(all,m1,func,args){\n\n            if(m1.indexOf('.')>0){\n                var keys=m1.split('.'),val=data;\n                for(var i=0;i<keys.length;i++){\n                    if(val[keys[i]]!==undefined && val[keys[i]]!==null){\n                        val=val[keys[i]];\n                    }else{\n                        val = '';\n                        break;\n                    }\n                }\n                return callfunc(val,func,args);\n            }else{\n                return callfunc(data[m1],func,args,data);\n            }\n        });\n    }\n};\n\nfunction tostring(obj) {\n    if(obj && obj.toString){\n        return obj.toString();\n    }\n    return '';\n}\n\nfunction callfunc(val,func,args,thisobj){\n    if(!args){\n        args=[val];\n    }else{\n        if(typeof args==='string')args=args.split(',');\n        var argidx=args.indexOf('###');\n        if(argidx>=0){\n            args[argidx]=val;\n        }else{\n            args=[val].concat(args);\n        }\n    }\n\n    return window[func]?window[func].apply(thisobj,args):((val===undefined||val===null)?'':val);\n}\n\n\nfunction html_encode(html){\n    if(!html)return html;\n    var temp = document.createElement (\"div\");\n    (temp.textContent != undefined ) ? (temp.textContent = html) : (temp.innerText = html);\n    var output = temp.innerHTML;\n    temp = null;\n    return output;\n}\nfunction html_decode(text){\n    if(!text)return text;\n    var temp = document.createElement(\"div\");\n    temp.innerHTML = text;\n    var output = temp.innerText || temp.textContent;\n    temp = null;\n    return output;\n}\n\nfunction pad_zero(n, c){\n    if ((n = n + \"\").length < c) {\n        return new Array(++c - n.length).join(\"0\") + n;\n    } else {\n        return n;\n    }\n}\n\nfunction timestamp_date(timestamp, fmt){\n    if(!timestamp)return '';\n    var jsdate=new Date(timestamp*1000);\n    if(!fmt)fmt = 'Y-m-d H:i:s';\n\n    var txt_weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    var txt_ordin = {\n        1: \"st\",\n        2: \"nd\",\n        3: \"rd\",\n        21: \"st\",\n        22: \"nd\",\n        23: \"rd\",\n        31: \"st\"\n    };\n    var txt_months = [\"\", \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n    var f = {\n        // Day \n        d: function () {\n            return pad_zero(f.j(), 2)\n        },\n        D: function () {\n            return f.l().substr(0, 3)\n        },\n        j: function () {\n            return jsdate.getDate()\n        },\n        l: function () {\n            return txt_weekdays[f.w()]\n        },\n        N: function () {\n            return f.w() + 1\n        },\n        S: function () {\n            return txt_ordin[f.j()] ? txt_ordin[f.j()] : 'th'\n        },\n        w: function () {\n            return jsdate.getDay()\n        },\n        z: function () {\n            return (jsdate - new Date(jsdate.getFullYear() + \"/1/1\")) / 864e5 >> 0\n        },\n\n        // Week \n        W: function () {\n            var a = f.z(),\n                b = 364 + f.L() - a;\n            var nd2, nd = (new Date(jsdate.getFullYear() + \"/1/1\").getDay() || 7) - 1;\n            if (b <= 2 && ((jsdate.getDay() || 7) - 1) <= 2 - b) {\n                return 1;\n            } else {\n                if (a <= 2 && nd >= 4 && a >= (6 - nd)) {\n                    nd2 = new Date(jsdate.getFullYear() - 1 + \"/12/31\");\n                    return timestamp_date(Math.round(nd2.getTime() / 1000),\"W\");\n                } else {\n                    return (1 + (nd <= 3 ? ((a + nd) / 7) : (a - (7 - nd)) / 7) >> 0);\n                }\n            }\n        },\n\n        // Month \n        F: function () {\n            return txt_months[f.n()]\n        },\n        m: function () {\n            return pad_zero(f.n(), 2)\n        },\n        M: function () {\n            return f.F().substr(0, 3)\n        },\n        n: function () {\n            return jsdate.getMonth() + 1\n        },\n        t: function () {\n            var n;\n            if ((n = jsdate.getMonth() + 1) == 2) {\n                return 28 + f.L();\n            } else {\n                if (n & 1 && n < 8 || !(n & 1) && n > 7) {\n                    return 31;\n                } else {\n                    return 30;\n                }\n            }\n        },\n\n        // Year \n        L: function () {\n            var y = f.Y();\n            return (!(y & 3) && (y % 1e2 || !(y % 4e2))) ? 1 : 0\n        },\n        //o not supported yet \n        Y: function () {\n            return jsdate.getFullYear()\n        },\n        y: function () {\n            return (jsdate.getFullYear() + \"\").slice(2)\n        },\n\n        // Time \n        a: function () {\n            return jsdate.getHours() > 11 ? \"pm\" : \"am\"\n        },\n        A: function () {\n            return f.a().toUpperCase()\n        },\n        B: function () {\n            // peter paul koch: \n            var off = (jsdate.getTimezoneOffset() + 60) * 60;\n            var theSeconds = (jsdate.getHours() * 3600) + (jsdate.getMinutes() * 60) + jsdate.getSeconds() + off;\n            var beat = Math.floor(theSeconds / 86.4);\n            if (beat > 1000) beat -= 1000;\n            if (beat < 0) beat += 1000;\n            if ((String(beat)).length == 1) beat = \"00\" + beat;\n            if ((String(beat)).length == 2) beat = \"0\" + beat;\n            return beat;\n        },\n        g: function () {\n            return jsdate.getHours() % 12 || 12\n        },\n        G: function () {\n            return jsdate.getHours()\n        },\n        h: function () {\n            return pad_zero(f.g(), 2)\n        },\n        H: function () {\n            return pad_zero(jsdate.getHours(), 2)\n        },\n        i: function () {\n            return pad_zero(jsdate.getMinutes(), 2)\n        },\n        s: function () {\n            return pad_zero(jsdate.getSeconds(), 2)\n        },\n        //u not supported yet \n\n        // Timezone \n        //e not supported yet \n        //I not supported yet \n        O: function () {\n            var t = pad_zero(Math.abs(jsdate.getTimezoneOffset() / 60 * 100), 4);\n            if (jsdate.getTimezoneOffset() > 0) t = \"-\" + t;\n            else t = \"+\" + t;\n            return t;\n        },\n        P: function () {\n            var O = f.O();\n            return (O.substr(0, 3) + \":\" + O.substr(3, 2))\n        },\n        //T not supported yet \n        //Z not supported yet \n\n        // Full Date/Time \n        c: function () {\n            return f.Y() + \"-\" + f.m() + \"-\" + f.d() + \"T\" + f.h() + \":\" + f.i() + \":\" + f.s() + f.P()\n        },\n        //r not supported yet \n        U: function () {\n            return Math.round(jsdate.getTime() / 1000)\n        }\n    };\n\n    return fmt.replace(/[\\\\]?([a-zA-Z])/g, function (t, s) {\n        var ret = '';\n        if (t != s) {\n            // escaped \n            ret = s;\n        } else if (f[s]) {\n            // a date function exists \n            ret = f[s]();\n        } else {\n            // nothing special \n            ret = s;\n        }\n        return ret;\n    });\n}\n\nfunction iif(v,m1,m2){\n    if(v==='0')v=0;\n    return v?m1:m2;\n}\n\nwindow['default']=function (v,d) {\n    return v?v:d;\n};","//日期组件\nif($.fn.datetimepicker) {\n    var tooltips= {\n        today: '定位当前日期',\n        clear: '清除已选日期',\n        close: '关闭选择器',\n        selectMonth: '选择月份',\n        prevMonth: '上个月',\n        nextMonth: '下个月',\n        selectYear: '选择年份',\n        prevYear: '上一年',\n        nextYear: '下一年',\n        selectDecade: '选择年份区间',\n        selectTime:'选择时间',\n        prevDecade: '上一区间',\n        nextDecade: '下一区间',\n        prevCentury: '上个世纪',\n        nextCentury: '下个世纪'\n    };\n\n    function transOption(option) {\n        if(!option)return {};\n        var newopt={};\n        for(var i in option){\n            switch (i){\n                case 'viewmode':\n                    newopt['viewMode']=option[i];\n                    break;\n                case 'keepopen':\n                    newopt['keepOpen']=option[i];\n                    break;\n                default:\n                    newopt[i]=option[i];\n            }\n        }\n        return newopt;\n    }\n    $('.datepicker').each(function(){\n        var config=$.extend({\n            tooltips:tooltips,\n            format: 'YYYY-MM-DD',\n            locale: 'zh-cn',\n            showClear:true,\n            showTodayButton:true,\n            showClose:true,\n            keepInvalid:true\n        },transOption($(this).data()));\n\n        $(this).datetimepicker(config);\n    });\n\n    $('.date-range').each(function () {\n        var from = $(this).find('[name=fromdate],.fromdate'), to = $(this).find('[name=todate],.todate');\n        var options = $.extend({\n            tooltips:tooltips,\n            format: 'YYYY-MM-DD',\n            locale:'zh-cn',\n            showClear:true,\n            showTodayButton:true,\n            showClose:true,\n            keepInvalid:true\n        },$(this).data());\n        from.datetimepicker(options).on('dp.change', function () {\n            if (from.val()) {\n                to.data('DateTimePicker').minDate(from.val());\n            }\n        });\n        to.datetimepicker(options).on('dp.change', function () {\n            if (to.val()) {\n                from.data('DateTimePicker').maxDate(to.val());\n            }\n        });\n    });\n}","(function(window,$){\n    var dialogTpl='<div class=\"modal fade\" id=\"{@id}\" {if tabindex}tabindex=\"{@tabindex}\"{/if} role=\"dialog\" aria-labelledby=\"{@id}Label\" aria-hidden=\"true\">\\n' +\n        '    <div class=\"modal-dialog {@size}\">\\n' +\n        '        <div class=\"modal-content {@contentClass}\">\\n' +\n        '            <div class=\"modal-header\">\\n' +\n        '                <h4 class=\"modal-title\" id=\"{@id}Label\">{@title}</h4>\\n' +\n        '                <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\\n' +\n        '                    <span aria-hidden=\"true\">&times;</span>\\n' +\n        '                    <span class=\"sr-only\">Close</span>\\n' +\n        '                </button>\\n' +\n        '            </div>\\n' +\n        '            <div class=\"modal-body {@bodyClass}\">\\n' +\n        '            </div>\\n' +\n        '            <div class=\"modal-footer\">\\n' +\n        '                <nav class=\"nav nav-fill\"></nav>\\n' +\n        '            </div>\\n' +\n        '        </div>\\n' +\n        '    </div>\\n' +\n        '</div>';\n    var dialogIdx=0;\n    function format_btn(btn,isdefault){\n        if(typeof(btn) === typeof 'a'){\n            btn = {'text':btn,'isdefault':isdefault?true:false};\n        }\n        if(btn.isdefault){\n            if(!btn.type){\n                btn.type='primary'\n            }\n        }\n        return btn;\n    }\n    function Dialog(opts){\n        if(!opts)opts={};\n        //处理按钮\n        if(opts.btns) {\n            if (typeof(opts.btns) == 'string') {\n                opts.btns = [format_btn(opts.btns,true)];\n            }\n            else if(opts.btns instanceof Array) {\n                for (var i = 0; i < opts.btns.length; i++) {\n                    opts.btns[i] = format_btn(opts.btns[i])\n                }\n            }else{\n                console.error('Dialog::construct argument btns error.');\n                opts.btns=[];\n            }\n        }\n\n        this.options=$.extend({\n            id:'modal_dialog_'+dialogIdx++,\n            header:true,\n            footer:true,\n            backdrop:true,\n            tabindex:-1,\n            size:'',\n            btns:[\n                {'text':'取消','type':'secondary'},\n                {'text':'确定','isdefault':true,'type':'primary'}\n            ],\n            contentClass:'',\n            onsure:null,\n            onshow:null,\n            onshown:null,\n            onhide:null,\n            onhidden:null\n        },opts);\n        if(!this.options.btns)this.options.btns=[];\n        var btncount=this.options.btns.length;\n        if(opts.addbtn){\n            if(!this.options.btns)this.options.btns=[];\n            opts.addbtn = format_btn(opts.addbtn)\n            if(btncount<1) {\n                this.options.btns.unshift(opts.addbtn)\n            }else{\n                this.options.btns.splice(btncount-1,0,opts.addbtn)\n            }\n            btncount=1\n        }\n        if(opts.addbtns){\n            if(!this.options.btns)this.options.btns=[];\n            if(btncount<1){\n                this.options.btns=opts.addbtns\n            }else{\n                var args=[btncount-1,0]\n                for(var i=0;i<opts.addbtns.length;i++){\n                    args.push(format_btn(opts.addbtns[i]))\n                }\n                this.options.btns.splice.apply(this.options.btns,args)\n            }\n            btncount=1\n        }\n        if(btncount<1){\n            this.options.footer=false;\n        }\n\n        this.closed=true;\n        this.box=$(this.options.id);\n    }\n    Dialog.prototype.generBtn=function(opt,idx){\n        if(opt['type'])opt['class']='btn-outline-'+opt['type'];\n        return '<a href=\"javascript:\" class=\"nav-item btn '+(opt['class']?opt['class']:'btn-outline-secondary')+'\" '+(opt.isdefault?'default':'')+' data-index=\"'+idx+'\">'+opt.text+'</a>';\n    };\n    Dialog.prototype.getDefaultBtn=function(){\n        var btn=null\n        for(var i=0;i<this.options.btns.length;i++){\n            btn=this.options.btns[i]\n            if(btn.isdefault)break;\n        }\n        return btn\n    }\n    Dialog.prototype.show=function(html,title){\n        this.box=$('#'+this.options.id);\n        if(!title)title='系统提示';\n\n        if(this.box.length<1) {\n            $(document.body).append(dialogTpl.compile({\n                id: this.options.id,\n                bodyClass:this.options.bodyClass,\n                contentClass:this.options.contentClass,\n                tabindex:this.options.tabindex,\n                size:this.options.size?('modal-'+this.options.size):'',\n                title:title\n            }));\n            this.box=$('#'+this.options.id);\n        }else{\n            this.box.unbind();\n            this.box.find('.modal-title').text(title);\n        }\n        if(!this.options.header){\n            this.box.find('.modal-header').remove();\n        }\n        if(!this.options.footer){\n            this.box.find('.modal-footer').remove();\n        }\n        if(this.options.backdrop!==true){\n            this.box.data('backdrop',this.options.backdrop);\n\n            //不需要背景的情况下会影响下面元素的点击\n            if(this.options.backdrop===false) {\n                this.box.css({'height':0,'overflow':'visible'});\n            }\n        }\n        if(!this.options.keyboard){\n            this.box.data('keyboard',false);\n        }\n\n        var self=this;\n        Dialog.instance=self;\n\n        //生成按钮\n        var btns=[];\n        for(var i=0;i<this.options.btns.length;i++){\n            btns.push(this.generBtn(this.options.btns[i],i));\n        }\n        this.box.find('.modal-footer .nav').html(btns.join('\\n'));\n\n        var body=this.box.find('.modal-body');\n        body.html(html);\n        this.box.on('hide.bs.modal',function(){\n            if(self.options.onhide){\n                self.options.onhide(body,self.box);\n            }\n            Dialog.instance=null;\n        });\n        this.box.on('hidden.bs.modal',function(){\n            if(self.options.onhidden){\n                self.options.onhidden(body,self.box);\n            }\n            self.closed=true;\n            self.box.remove();\n            self.box=null;\n        });\n        this.box.on('show.bs.modal',function(){\n            if(self.options.onshow){\n                self.options.onshow(body,self.box);\n            }\n        });\n        this.box.on('shown.bs.modal',function(){\n            if(self.options.onshown){\n                self.options.onshown(body,self.box);\n            }\n        });\n        if(this.options.footer) {\n            this.box.find('.modal-footer .btn').click(function () {\n                var result = true, idx = $(this).data('index');\n                if (self.options.btns[idx].click) {\n                    result = self.options.btns[idx].click.apply(this, [body, self.box]);\n                }else {\n                    if (self.options.btns[idx].isdefault) {\n                        if (self.options.onsure) {\n                            result = self.options.onsure.apply(this, [body, self.box]);\n                        }\n                    }\n                }\n                if (result !== false) {\n                    self.box.modal('hide');\n                }\n            });\n        }\n        this.closed=false;\n        this.box.modal('show');\n        return this;\n    };\n    Dialog.prototype.hide=Dialog.prototype.close=function(){\n        if(this.box && !this.closed) {\n            this.closed=true;\n            this.box.modal('hide');\n        }\n        return this;\n    };\n\n    var dialog={\n        error:function (message,time) {\n            return this.message(message,'error',time);\n        },\n        success:function (message,time) {\n            return this.message(message,'success',time);\n        },\n        warning:function (message,time) {\n            return this.message(message,'warning',time);\n        },\n        info:function (message,time) {\n            return this.message(message,'info',time);\n        },\n        loading:function (message,time) {\n            return this.message(message?message:'加载中...','loading',time);\n        },\n        message:function (message,type,time) {\n            var cssClass='bg-info text-white';\n            var icon='information-circle';\n            if(type) {\n                switch (type) {\n                    case 'danger':\n                    case 'error':\n                        icon='close-circle';\n                        cssClass='bg-danger text-white';\n                        break;\n                    case 'warning':\n                        icon='warning';\n                        cssClass='bg-warning text-white';\n                        break;\n                    case 'loading':\n                        icon='<div class=\"spinner-border text-light\" role=\"status\">\\n' +\n                            '  <span class=\"sr-only\">Loading...</span>\\n' +\n                            '</div>';\n                        cssClass='bg-info text-white';\n                        if(!time)time=10;\n                        break;\n                    case 'success':\n                        icon='checkmark-circle';\n                        cssClass='bg-success text-white';\n                        break;\n                }\n            }\n            if(type != 'loading')icon= '<i class=\"ion-md-'+icon+'\"></i>';\n            var html='<div class=\"dialog-message\" >'+icon+'&nbsp;&nbsp;'+message+(type=='loading'?'':'<a href=\"javascript:\" class=\"ion-md-close closebtn\"></a>')+'</div>';\n\n            var dlg= new Dialog({\n                footer:false,\n                header:false,\n                backdrop:false,\n                tabindex:'',\n                size:'sm',\n                contentClass:cssClass,\n                onshow:function (body) {\n                    body.find('.closebtn').click(function () {\n                        dlg.close();\n                    })\n                }\n            }).show(html,'');\n            if(!time)time=2;\n            setTimeout(function(){dlg.close();},time*1000);\n            return dlg;\n        },\n        alert:function(message,callback,icon){\n            var called=false;\n            var iscallback=typeof callback=='function';\n            var title='';\n            var size='sm';\n            var html='';\n            if(callback!==undefined && !iscallback){\n                icon=callback;\n            }\n            if($.isPlainObject(message)){\n                if(message['title']){\n                    title=message['title'];\n                }\n                if(message['size']!==undefined){\n                    size=message['size'];\n                }\n                if(message['content']===undefined){\n                    throw 'message.content can not be empty.';\n                }\n                message=message['content'];\n            }\n            var iconMap= {\n                success:'checkmark-circle',\n                info: 'information-circle',\n                warning:'alert',\n                error:'remove-circle'\n            };\n            var color='primary';\n            if(icon===undefined)icon='information-circle';\n            else if(iconMap[icon]){\n                color=icon=='error'?'danger':icon;\n                icon=iconMap[icon];\n            }\n            if(icon) {\n                html = '<div class=\"row\" style=\"align-items: center;\"><div class=\"col-3 text-right\"><i class=\"ion-md-{@icon} text-{@color}\" style=\"font-size:3em;\"></i> </div><div class=\"col-9\" >{@message}</div> </div>'.compile({\n                    message: message,\n                    icon: icon,\n                    color: color\n                });\n            }else{\n                html=message;\n            }\n            return new Dialog({\n                btns:'确定',\n                size:size,\n                header:title?true:false,\n                onsure:function(){\n                    if(iscallback){\n                        called=true;\n                        return callback(true);\n                    }\n                },\n                onhide:function(){\n                    if(!called && iscallback){\n                        callback(false);\n                    }\n                }\n            }).show(html,title);\n        },\n        confirm:function(message,confirm,cancel, icon, countdown){\n            var called=false;\n            if(typeof confirm !== 'function'){\n                icon = confirm;\n                if(typeof cancel === 'function'){\n                    confirm = cancel;\n                    cancel = null;\n                }else{\n                    countdown = cancel;\n                }\n            }else if(typeof cancel !== 'function'){\n                countdown = icon;\n                icon = cancel;\n            }\n            if(typeof icon ===  'number'){\n                countdown = icon;\n                icon = undefined;\n            }\n\n            var title='';\n            var size='sm';\n            var btns=[\n                {'text':'取消','type':'secondary'},\n                {'text':'确定','isdefault':true,'type':'primary'}\n            ];\n            if($.isPlainObject(message)){\n                if(message['title']){\n                    title=message['title'];\n                }\n                if(message['size']!==undefined){\n                    size=message['size'];\n                }\n                if(message['btns']!==undefined){\n                    btns=message['btns'];\n                }\n                if(message['content']===undefined){\n                    throw 'message.content can not be empty.';\n                }\n                message=message['content'];\n            }\n\n            var iconMap= {\n                'success':'checkmark-circle',\n                'info': 'information-circle',\n                'warning':'alert',\n                'error':'remove-circle'\n            };\n            var color='primary';\n            if(!icon)icon='information-circle';\n            else if(iconMap[icon]){\n                color = icon==='error'?'danger':icon;\n                icon = iconMap[icon];\n            }\n            var html='<div class=\"row\" style=\"align-items: center;\"><div class=\"col-3 text-right\"><i class=\"ion-md-{@icon} text-{@color}\" style=\"font-size:3em;\"></i> </div><div class=\"col-9\" >{@message}</div> </div>'.compile({\n                message:message,\n                icon:icon,\n                color:color\n            });\n\n            var inteval=0;\n\n            var dlg = new Dialog({\n                header:title?true:false,\n                size:'sm',\n                backdrop:'static',\n                onsure:function(){\n                    if(confirm && typeof confirm==='function'){\n                        called=true;\n                        return confirm();\n                    }\n                },\n                onhide:function () {\n                    clearInterval(inteval);\n                    if(called === false && typeof cancel === 'function'){\n                        return cancel();\n                    }\n                }\n            }).show(html, title);\n\n            if(countdown && typeof countdown === 'number') {\n                var btn = dlg.box.find('.modal-footer .btn-outline-primary');\n                var btnText = dlg.getDefaultBtn().text;\n                btn.addClass('disabled').text(btnText+'(' + countdown + ')');\n                inteval = setInterval(function () {\n                    countdown--;\n                    if (countdown > 0) {\n                        btn.text(btnText+'(' + countdown + ')');\n                    } else {\n                        btn.text(btnText);\n                        btn.removeClass('disabled');\n                        clearInterval(inteval);\n                    }\n                }, 1000);\n            }\n            return dlg;\n        },\n        prompt:function(message,callback,cancel){\n            var called=false;\n            var contentHtml='<div class=\"form-group\">{@input}</div>';\n            var title='请输入信息';\n            var is_multi=false;\n            var multiset={};\n            if(typeof message=='string'){\n                title=message;\n            }else{\n                title=message.title;\n                if(message.content) {\n                    contentHtml = message.content.indexOf('{@input}') > -1 ? message.content : message.content + contentHtml;\n                }\n                if(message.multi){\n                    is_multi=true;\n                    multiset=message.multi;\n                }\n            }\n            var inputHtml='<input type=\"text\" name=\"confirm_input\" class=\"form-control\" />';\n            if(is_multi){\n                inputHtml='';\n                for(var i in multiset){\n                    inputHtml+= '<div class=\"input-group mt-1\"><div class=\"input-group-prepend\"><span class=\"input-group-text\">'+multiset[i]+'</span></div><input type=\"text\" data-key=\"'+i+'\" name=\"confirm_input\" class=\"form-control\" /></div>';\n                }\n            }\n            return new Dialog({\n                'backdrop':'static',\n                'onshow':function(body){\n                    if(message && message.onshow){\n                        message.onshow(body);\n                    }\n                },\n                'onshown':function(body){\n                    body.find('[name=confirm_input]').focus();\n                    if(message && message.onshown){\n                        message.onshown(body);\n                    }\n                },\n                'onsure':function(body){\n                    var inputs=body.find('[name=confirm_input]'),val=inputs.val();\n                    if(is_multi){\n                        val={};\n                        inputs.each(function () {\n                            var key=$(this).data('key')\n                            val[key]=$(this).val()\n                        })\n                    }\n                    if(typeof callback=='function'){\n                        var result = callback(val);\n                        if(result===true){\n                            called=true;\n                        }\n                        return result;\n                    }\n                },\n                'onhide':function () {\n                    if(called=false && typeof cancel=='function'){\n                        return cancel();\n                    }\n                }\n            }).show(contentHtml.compile({input:inputHtml}),title);\n        },\n        action:function (list,callback,title) {\n            var html='<div class=\"list-group\"  style=\"max-height: 70vh;overflow: auto;\"><a href=\"javascript:\" class=\"list-group-item list-group-item-action\">'+list.join('</a><a href=\"javascript:\" class=\"list-group-item list-group-item-action\">')+'</a></div>';\n            var actions=null;\n            var dlg=new Dialog({\n                'bodyClass':'modal-action',\n                'backdrop':'static',\n                'size':'sm',\n                'btns':[\n                    {'text':'取消','type':'secondary'}\n                ],\n                'onshow':function(body){\n                    actions=body.find('.list-group-item-action');\n                    actions.click(function (e) {\n                        actions.removeClass('active');\n                        $(this).addClass('active');\n                        var val=actions.index(this);\n                        if(typeof callback=='function'){\n                            if( callback(val)!==false){\n                                dlg.close();\n                            }\n                        }else {\n                            dlg.close();\n                        }\n                    })\n                },\n                'onsure':function(body){\n                    return true;\n                },\n                'onhide':function () {\n                    return true;\n                }\n            }).show(html,title?title:'请选择');\n        },\n        pickList:function (config,callback,filter) {\n            if(typeof config==='string')config={url:config};\n            if(Object.prototype.toString.call(config) == '[object Array]'){\n                config = {\n                    isajax:false,\n                    list:config\n                };\n            }\n            var icon = config.icon?'<i class=\"ion-md-checkmark\"></i> ':''\n            config=$.extend({\n                url:'',\n                title:'',\n                isajax:true,\n                list:[],\n                name:'项目',\n                searchHolder:'根据名称搜索',\n                idkey:'id',\n                titlekey:'title',\n                onRow:null,\n                extend:null,\n                rowTemplate:'<a href=\"javascript:\" data-id=\"{@id}\" class=\"list-group-item list-group-item-action\" style=\"line-height:30px;\">'+icon+'[{@id}]&nbsp;{@title}</a>'\n            },config||{});\n            var current=null;\n            var exthtml='';\n            if(config.extend){\n                exthtml='<select name=\"'+config.extend.name+'\" class=\"form-control\"><option value=\"\">'+config.extend.title+'</option></select>';\n            }\n            if(!filter)filter={};\n\n            var title='请选择'+config.name;\n            var contentTpl='<div class=\"list-group list-group-picker mt-2\" style=\"max-height:500px;overflow: auto;\"></div>';\n            if(config.isajax){\n                title='请搜索并选择'+config.name;\n                contentTpl = '<div class=\"input-group\">'+exthtml+'<input type=\"text\" class=\"form-control searchtext\" name=\"keyword\" placeholder=\"'+config.searchHolder+'\"/><div class=\"input-group-append\"><a class=\"btn btn-outline-secondary searchbtn\"><i class=\"ion-md-search\"></i></a></div></div>'+contentTpl;\n            }\n            if(!config.title)config.title=title;\n\n            var dlg=new Dialog({\n                'backdrop':'static',\n                'onshown':function(body){\n                    var btn=body.find('.searchbtn');\n                    var input=body.find('.searchtext');\n                    var listbox=body.find('.list-group');\n                    var isloading=false;\n                    listbox.on('click','a.list-group-item',function () {\n                        var id = $(this).data('id');\n                        for (var i = 0; i < config.list.length; i++) {\n                            if(config.list[i][config.idkey]==id){\n                                current=config.list[i];\n                                listbox.find('a.list-group-item').removeClass('active');\n                                $(this).addClass('active');\n                                break;\n                            }\n                        }\n                    });\n                    if(!config.isajax){\n                        listbox.html(config.rowTemplate.compile(config.list, true));\n                        return;\n                    }\n                    var extField=null;\n                    if(config.extend){\n                        extField=body.find('[name='+config.extend.name+']');\n                        if(config.extend.list){\n                            extField.append(config.extend.htmlRow.compile(config.extend.list, true));\n                        }else {\n                            $.ajax({\n                                url: config.extend.url,\n                                type: 'GET',\n                                dataType: 'JSON',\n                                success: function (json) {\n                                    extField.append(config.extend.htmlRow.compile(json.data, true));\n                                }\n                            });\n                        }\n                    }\n                    btn.click(function(){\n                        if(isloading)return;\n                        isloading=true;\n                        listbox.html('<span class=\"list-loading\">加载中...</span>');\n                        filter['key']=input.val();\n                        if(config.extend){\n                            filter[config.extend.name]=extField.val();\n                        }\n                        $.ajax(\n                            {\n                                url:config.url,\n                                type:'GET',\n                                dataType:'JSON',\n                                data:filter,\n                                success:function(json){\n                                    isloading=false;\n                                    if(json.code===1){\n                                        if(json.data && json.data.length) {\n                                            config.list = json.data\n                                            listbox.html(config.rowTemplate.compile(json.data, true));\n\n                                        }else{\n                                            listbox.html('<span class=\"list-loading\"><i class=\"ion-md-warning\"></i> 没有检索到'+config.name+'</span>');\n                                        }\n                                    }else{\n                                        listbox.html('<span class=\"text-danger\"><i class=\"ion-md-warning\"></i> 加载失败</span>');\n                                    }\n                                }\n                            }\n                        );\n\n                    }).trigger('click');\n                },\n                'onsure':function(body){\n                    if(!current){\n                        dialog.warning('没有选择'+config.name+'!');\n                        return false;\n                    }\n                    if(typeof callback=='function'){\n                        var result = callback(current);\n                        return result;\n                    }\n                }\n            }).show(contentTpl,config.title);\n            return dlg;\n        },\n        pickUser:function(callback,filter){\n            return this.pickList({\n                'url':window.get_search_url('member'),\n                'name':'会员',\n                'searchHolder':'根据会员id或名称，电话来搜索',\n                'rowTemplate':'<a href=\"javascript:\" data-id=\"{@id}\" class=\"list-group-item list-group-item-action\" style=\"line-height:30px;\">{if @avatar}<img src=\"{@avatar}\" style=\"width:30px;height:30px;border-radius: 100%;margin-right:10px;\" />{else}<i class=\"ion-md-person\"></i>{/if} [{@id}]&nbsp;{if @nickname}{@nickname}{else}{@username}{/if}&nbsp;&nbsp;&nbsp;{if @mobile}<small><i class=\"ion-md-phone-portrait\"></i> {@mobile}</small>{/if}</a>'\n            },callback,filter);\n        },\n        pickArticle:function(callback,filter){\n            return this.pickList({\n                'url':window.get_search_url('article'),\n                rowTemplate:'<a href=\"javascript:\" data-id=\"{@id}\" class=\"list-group-item list-group-item-action\">{if @cover}<div style=\"background-image:url({@cover})\" class=\"imgview\" ></div>{/if}<div class=\"text-block\">[{@id}]&nbsp;{@title}&nbsp;<br />{@description}</div></a>',\n                name:'文章',\n                idkey:'id',\n                extend:{\n                   name:'cate',\n                    title:'按分类搜索',\n                    url:get_cate_url('article'),\n                    htmlRow:'<option value=\"{@id}\">{@html}{@title}</option>'\n                },\n                'searchHolder':'根据文章标题搜索'\n            },callback,filter);\n        },\n        pickProduct:function(callback,filter){\n            var issku = filter && filter['searchtype'];\n            var titletpl='<div class=\"text-block\">[{@id}]&nbsp;{@title}&nbsp;<br />{@min_price}{if @max_price>@min_price}~{@max_price}{/if}</div>';\n            if(issku)titletpl='<div class=\"text-block\">[{@id}]&nbsp;{@title}&nbsp;<br />[{@sku_goods_no}]&nbsp;{@price}</div>';\n            return this.pickList({\n                'url':window.get_search_url('product'),\n                rowTemplate:'<a href=\"javascript:\" data-id=\"{@id}\" class=\"list-group-item list-group-item-action\">{if @image}<div style=\"background-image:url({@image})\" class=\"imgview\" ></div>{/if}'+titletpl+'</a>',\n                name:'产品',\n                idkey:'id',\n                extend:{\n                    name:'cate',\n                    title:'按分类搜索',\n                    url:get_cate_url('product'),\n                    htmlRow:'<option value=\"{@id}\">{@html}{@title}</option>'\n                },\n                'searchHolder':'根据产品名称搜索'\n            },callback,filter);\n        },\n        pickLocate:function(type, callback, locate){\n            var settedLocate=null;\n            var height=$(window).height()*.6\n            var dlg=new Dialog({\n                'size':'lg',\n                'backdrop':'static',\n                'onshown':function(body){\n                    var btn=body.find('.searchbtn');\n                    var input=body.find('.searchtext');\n                    var mapbox=body.find('.map');\n                    var mapinfo=body.find('.mapinfo');\n                    var isloading=false;\n                    setTimeout(function () {\n                        var map=InitMap('tencent',mapbox,function(address,locate){\n                            mapinfo.html(address+'&nbsp;'+locate.lng+','+locate.lat);\n                            settedLocate=locate;\n                        },locate);\n                        btn.click(function(){\n                            var search=input.val();\n                            map.setLocate(search);\n                        });\n                        body.find('.setToCenter').click(function (e) {\n                            map.showAtCenter();\n                        })\n                    },500)\n\n                },\n                'onsure':function(body){\n                    if(!settedLocate){\n                        dialog.warning('没有选择位置!');\n                        return false;\n                    }\n                    if(typeof callback==='function'){\n                        var result = callback(settedLocate);\n                        return result;\n                    }\n                }\n            }).show('<div class=\"input-group\"><input type=\"text\" class=\"form-control searchtext\" name=\"keyword\" placeholder=\"填写地址检索位置\"/><div class=\"input-group-append\"><a class=\"btn btn-outline-secondary searchbtn\"><i class=\"ion-md-search\"></i></a></div></div>' +\n                '<div class=\"map mt-2\" style=\"height:'+height+'px\"></div>' +\n                '<div class=\"float-right mt-2 mapactions\"><a href=\"javascript:\" class=\"setToCenter\">定位到地图中心</a></div>' +\n                '<div class=\"mapinfo mt-2 text-muted\">未选择位置</div>','请选择地图位置');\n            return dlg;\n        }\n    };\n\n    //监控按键\n    $(document).on('keydown', function(e){\n        if(!Dialog.instance)return;\n        var dlg=Dialog.instance;\n        if (e.keyCode == 13) {\n            dlg.box.find('.modal-footer .btn[default]').trigger('click');\n        }\n        //默认已监听关闭\n        /*if (e.keyCode == 27) {\n         self.hide();\n         }*/\n    });\n\n    //暴露接口\n    window.Dialog=$.Dialog=Dialog;\n    window.dialog=$.dialog=dialog;\n})(window,jQuery||Zepto);\n\n","\njQuery.extend(jQuery.fn,{\n    tags:function(nm,onupdate){\n        var data=[];\n        var tpl='<span class=\"badge badge-info\">{@label}<input type=\"hidden\" name=\"'+nm+'\" value=\"{@label}\"/><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></span>';\n        var item=$(this).parents('.form-control');\n        var labelgroup=$('<span class=\"badge-group\"></span>');\n        var input=this;\n        this.before(labelgroup);\n        this.on('keyup',function(){\n            var val=$(this).val().replace(/，/g,',');\n            var updated=false;\n            if(val && val.indexOf(',')>-1){\n                var vals=val.split(',');\n                for(var i=0;i<vals.length;i++){\n                    vals[i]=vals[i].replace(/^\\s|\\s$/g,'');\n                    if(vals[i] && data.indexOf(vals[i])===-1){\n                        data.push(vals[i]);\n                        labelgroup.append(tpl.compile({label:vals[i]}));\n                        updated=true;\n                    }\n                }\n                input.val('');\n                if(updated && onupdate)onupdate(data);\n            }\n        }).on('blur',function(){\n            var val=$(this).val();\n            if(val) {\n                $(this).val(val + ',').trigger('keyup');\n            }\n        }).trigger('blur');\n        labelgroup.on('click','.close',function(){\n            var tag=$(this).parents('.badge').find('input').val();\n            var id=data.indexOf(tag);\n            if(id)data.splice(id,1);\n            $(this).parents('.badge').remove();\n            if(onupdate)onupdate(data);\n        });\n        item.click(function(){\n            input.focus();\n        });\n    }\n});","window.stop_ajax=false;\n\nfunction radio_tab(radios,lists,prefix) {\n    $(radios).on('change',function (e) {\n        if(!$(this).is(':checked'))return;\n        var curval=$(this).val();\n        $(lists).hide();\n        $('.'+prefix+curval).show();\n    }).filter(':checked').trigger('change');\n}\n\n//绑定数据\nfunction bindData(body,data) {\n    for(var i in data){\n        body.find('[name='+i+']').val(data[i]);\n    }\n}\n\n//获取表单数据\nfunction getData(body) {\n    var data={};\n    var fields=body.find('[name]');\n    for(var i=0;i<fields.length;i++){\n        data[fields.eq(i).attr('name')]=fields.eq(i).val();\n    }\n    return data;\n}\n\nfunction closeThisPage() {\n    if(window.frameElement && top.closePage){\n        var curkey = $(window.frameElement).data('key');\n        top.closePage(curkey);\n    }\n}\nfunction updateThisTitle(title){\n    if(window.frameElement && top.updatePage){\n        var curkey = $(window.frameElement).data('key');\n        top.updatePage(curkey,title);\n    }\n}\nfunction refreshFromPage(){\n    if(window.frameElement && top.refreshFromPage){\n        var curkey = $(window.frameElement).data('key');\n        top.refreshFromPage(curkey);\n    }\n}\n\nvar excelTpl = '<form method=\"POST\" enctype=\"multipart/form-data\">' +\n    '<div class=\"form-group\">' +\n    '<div class=\"custom-file\">\\n' +\n    '    <input type=\"file\" class=\"custom-file-input\" name=\"uploadFile\" required>\\n' +\n    '    <label class=\"custom-file-label\" for=\"uploadFile\">选择文件上传</label>\\n' +\n    '    <div class=\"help-block text-center mt-3\"><a href=\"/static/excel.xlsx\" target=\"_blank\">示例数据</a> </div>\\n' +\n    '  </div>' +\n    '</div>' +\n    '</form>';\nfunction importExcel(title, url, callback) {\n    var file='',sheet='';\n    var dlg=new Dialog({\n        onshown:function (body) {\n            var options = {\n                url: url,\n                type: 'POST',\n                dataType: 'JSON',\n                success: function (json) {\n                    window.stop_ajax=false;\n                    //console.log(json)\n                    \n                    if (json.code == 1) {\n                        dlg.close();\n                        if(json.data.success==1){\n                            importResult(json,callback);\n                        }else{\n                            var sheets=json.data.sheets;\n                            var file = json.data.file;\n                            dialog.action(sheets,function (idx) {\n                                if(sheets[idx]){\n                                    $.ajax({\n                                        url:url,\n                                        data:{\n                                            file:file,\n                                            sheet:sheets[idx]\n                                        },\n                                        success:function (json) {\n                                            importResult(json,callback);\n                                        }\n                                    })\n                                }\n                            },'请选择要导入的表');\n                        }\n                    } else {\n                        dialog.warning(json.msg);\n                        //$(btn).removeAttr('disabled');\n                    }\n                },\n                error: function (xhr) {\n                    window.stop_ajax=false;\n                    //isbtn?$(btn).text(origText):$(btn).val(origText);\n                    //$(btn).removeAttr('disabled');\n                    dialog.error('服务器处理错误');\n                }\n            };\n            if (!FormData) {\n                window.stop_ajax=true;\n                dialog.alert('您的浏览器不支持该功能',function () {\n                    dlg.close();\n                });\n                return true;\n            }\n            options.cache = false;\n            options.processData = false;\n            options.contentType = false;\n            options.xhr= function() { //用以显示上传进度\n                var xhr = $.ajaxSettings.xhr();\n                if (xhr.upload) {\n                    xhr.upload.addEventListener('progress', function(event) {\n                        var percent = Math.floor(event.loaded / event.total * 100);\n                        //$(btn).text(origText+'  ('+percent+'%)');\n                    }, false);\n                }\n                return xhr;\n            };\n            \n            body.find('[name=uploadFile]').change(function (e) {\n                body.find('.custom-file-label').text($(this).val());\n                options.data = new FormData(body.find('form')[0]);\n                $.ajax(options);\n            })\n        },\n        onsure:function (body) {\n            \n            return false;\n        }\n    }).show(excelTpl,title);\n}\n\nfunction importResult(json,callback) {\n    if (json.code == 1) {\n        if (json.data.success == 1) {\n            if(callback){\n                callback(json.data)\n            }else{\n                var errors=json.data.errors;\n\n                if(errors && errors.length){\n                    if(errors.length>5){\n                        errors.splice(5);\n                        errors.push('...');\n                    }\n                    dialog.alert(json.msg+\"<br />\"+errors.join('<br />'),'warning');\n                }else {\n                    dialog.success(json.msg);\n                    setTimeout(function () {\n                        if(json.url)location.href=json.url;\n                        else location.reload();\n                    },800)\n                }\n            }\n        }\n    }else{\n        dialog.warning(json.msg);\n    }\n}\n\n\njQuery(function ($) {\n    //高亮当前选中的导航\n    var bread = $(\".breadcrumb\");\n    var menu = bread.data('menu');\n    if (menu) {\n        var link = top.$('.side-nav a[data-key=' + menu + ']');\n\n        var html = [];\n        if (link.length > 0) {\n            if (link.is('.menu_top')) {\n                html.push('<li class=\"breadcrumb-item\"><a href=\"javascript:\"><i class=\"' + link.find('i').attr('class') + '\"></i>&nbsp;' + link.text() + '</a></li>');\n            } else {\n\n                var topmenu = link.parents('.card').find('.card-header a.menu_top');\n                html.push('<li class=\"breadcrumb-item\"><a href=\"javascript:\"><i class=\"' + topmenu.find('i').attr('class') + '\"></i>&nbsp;' + topmenu.text() + '</a></li>');\n                html.push('<li class=\"breadcrumb-item\"><a href=\"javascript:\">' + link.text() + '</a></li>');\n            }\n        }\n        var title = bread.data('title');\n        if (title) {\n            html.push('<li class=\"breadcrumb-item active\" aria-current=\"page\">' + title + '</li>');\n        }\n        bread.html(html.join(\"\\n\"));\n    }\n\n    //全选、反选按钮\n    $('.checkall-btn').click(function (e) {\n        var target = $(this).data('target');\n        if (!target) target = 'id';\n        var ids = $('[name=' + target + ']');\n        if ($(this).is('.active')) {\n            ids.prop('checked', false);\n        } else {\n            ids.prop('checked', true);\n        }\n    });\n    $('.checkreverse-btn').click(function (e) {\n        var target = $(this).data('target');\n        if (!target) target = 'id';\n        var ids = $('[name=' + target + ']');\n        for (var i = 0; i < ids.length; i++) {\n            if (ids[i].checked) {\n                ids.eq(i).prop('checked', false);\n            } else {\n                ids.eq(i).prop('checked', true);\n            }\n        }\n    });\n\n    //全局操作按钮\n    $('.action-btn').click(function (e) {\n        e.preventDefault();\n        var action = $(this).data('action');\n        if (!action) {\n            return dialog.error('未知操作');\n        }\n        action = 'action' + action.replace(/^[a-z]/, function (letter) {\n            return letter.toUpperCase();\n        });\n        if (!window[action] || typeof window[action] !== 'function') {\n            return dialog.error('未知操作');\n        }\n        var needChecks = $(this).data('needchecks');\n        if (needChecks === undefined) needChecks = true;\n        if (needChecks) {\n            var target = $(this).data('target');\n            if (!target) target = 'id';\n            var ids = $('[name=' + target + ']:checked');\n            if (ids.length < 1) {\n                return dialog.warning('请选择需要操作的项目');\n            } else {\n                var idchecks = [];\n                for (var i = 0; i < ids.length; i++) {\n                    idchecks.push(ids.eq(i).val());\n                }\n                window[action].call(this,idchecks);\n            }\n        } else {\n            window[action].call(this);\n        }\n    });\n\n    //状态切换按钮\n    $('.chgstatus').click(function (e) {\n        if($(this).data('ajaxing'))return;\n        $(this).data('ajaxing',1);\n        var self=$(this);\n        var parent=self.parents('td');\n        var id=parent.data('id');\n        var status=self.data('status');\n        $.ajax({\n            url:parent.data('url'),\n            type:'POST',\n            dataType:'JSON',\n            data:{\n                id:id,\n                status:status\n            },\n            success:function (json) {\n                self.data('ajaxing',0);\n                if(json.code==1){\n                    dialog.success(json.msg);\n                    self.toggleClass('off');\n                    var totext=self.attr('title').replace('点击','');\n                    self.text(totext);\n                    setTimeout(function () {\n                        location.reload();\n                    },1000);\n                }else{\n                    dialog.error(json.msg);\n                }\n            }\n        })\n    });\n\n    //表格行操作提示\n    $('.operations .btn').tooltip();\n\n    //异步显示资料链接\n    $('a[rel=ajax]').click(function (e) {\n        e.preventDefault();\n        var self = $(this);\n        var title = $(this).data('title');\n        if (!title) title = $(this).text();\n        if (!title) title = $(this).attr('title');\n        var dlg = new Dialog({\n            btns: ['确定'],\n            onshow: function (body) {\n                $.ajax({\n                    url: self.attr('href'),\n                    beforeSend: function(request) {\n                        request.setRequestHeader(\"X-Requested-With\",\"htmlhttp\");\n                    },\n                    success: function (text) {\n                        body.html(text);\n                    }\n                });\n            }\n        }).show('<p class=\"loading\">'+lang('loading...')+'</p>', title);\n\n    });\n\n    //确认操作\n    $('.link-confirm').click(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var text=$(this).data('confirm');\n        var url=$(this).attr('href');\n        if(text)text=text.replace(/(\\\\n|\\n)+/g,\"<br />\");\n        if(!text)text=lang('Confirm operation?');\n\n        dialog.confirm(text,function () {\n            $.ajax({\n                url:url,\n                dataType:'JSON',\n                success:function (json) {\n                    dialog.alert(json.msg);\n                    if(json.code==1){\n                        if(json.url){\n                            location.href=json.url;\n                        }else{\n                            location.reload();\n                        }\n                    }\n                },\n                error:function () {\n                    dialog.alert(lang('Server error.'));\n                }\n            })\n        });\n    });\n\n    //点击放大浏览图片效果\n    $('.img-view').click(function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var url=$(this).attr('href');\n        if(!url)url=$(this).data('img');\n        var dlg = new Dialog({\n            btns: ['确定']\n        }).show('<a href=\"'+url+'\" class=\"d-block text-center\" target=\"_blank\"><img class=\"img-fluid\" src=\"'+url+'\" /></a><div class=\"text-muted text-center\">点击图片在新页面放大查看</div>', '查看图片');\n    });\n\n    //tab切换效果\n    $('.nav-tabs a').click(function (e) {\n        e.preventDefault();\n        $(this).tab('show');\n    });\n\n    //上传框\n    $('.custom-file .custom-file-input').on('change', function () {\n        var self=$(this);\n        if(!this.files || !this.files[0])return;\n        var inputgroup=$(this).parents('.input-group').eq(0);\n        var parent=inputgroup.parents('div').eq(0);\n        var label = $(this).parents('.custom-file').find('.custom-file-label');\n        if(!label.data('origtext')){\n            label.data('origtext',label.text());\n        }\n        label.text($(this).val());\n\n        if(!window.URL && !window.URL.createObjectURL)return;\n        var file=self[0].files[0];\n        var is_img=file.type && file.type.match(/(\\.|\\/)(jpe?g|png|gif|webp)$/);\n\n\n        var figure = parent.find('.figure');\n        if (!figure.length) {\n            parent.append('<figure class=\"figure\">\\n' +\n                '                            <img src=\"/static/images/blank.gif\" class=\"figure-img img-fluid rounded\" alt=\"image\">\\n' +\n                '                            <figcaption class=\"figure-caption text-center\"></figcaption>\\n' +\n                '                        </figure>');\n            figure = parent.find('.figure');\n        }\n        if(is_img) {\n            var img = figure.find('img');\n            var origurl = img.data('origurl');\n            if (!origurl) {\n                origurl = img.attr('src');\n                img.data('origurl', origurl);\n            }\n            var figcap = figure.find('figcaption');\n            if (figcap.data('origtext') === undefined) {\n                figcap.data('origtext', figcap.text());\n            }\n            img.attr('src', window.URL.createObjectURL(file));\n            figcap.text(self.val());\n        }\n\n        var cancel = inputgroup.find('a.cancel');\n        if (!cancel.length) {\n            inputgroup.append('<div class=\"input-group-append\"><a href=\"javascript:\" class=\"btn btn-outline-danger cancel\">取消</a></div>');\n            cancel = inputgroup.find('a.cancel');\n            cancel.click(function (e) {\n                dialog.confirm('取消上传该文件?', function () {\n                    self.val('');\n                    label.text(label.data('origtext'));\n                    if(is_img) {\n                        img.attr('src', origurl);\n                        figcap.text(figcap.data('origtext'));\n                    }\n                    cancel.parent().remove();\n                })\n\n            })\n        }\n    });\n\n    //表单Ajax提交\n    $('.btn-primary[type=submit]').click(function (e) {\n        var form = $(this).parents('form');\n        if(form.is('.noajax'))return true;\n        var btn = this;\n\n        var isbtn=$(btn).prop('tagName').toUpperCase()=='BUTTON';\n        var origText=isbtn?$(btn).text():$(btn).val();\n        var options = {\n            url: $(form).attr('action'),\n            type: 'POST',\n            dataType: 'JSON',\n            success: function (json) {\n                window.stop_ajax=false;\n                isbtn?$(btn).text(origText):$(btn).val(origText);\n                if (json.code == 1) {\n                    refreshFromPage();\n                    dialog.confirm({\n                        btns:[\n                            {'text':'关闭本页','type':'secondary'},\n                            {'text':'留在本页','isdefault':true,'type':'primary'}\n                        ],\n                        content:json.msg\n                    },function () {\n                        if (json.url) {\n                            location.href = json.url;\n                        } else {\n                            location.reload();\n                        }\n                    },function () {\n                        closeThisPage()\n                    });\n\n                } else {\n                    dialog.warning(json.msg);\n                    $(btn).removeAttr('disabled');\n                }\n            },\n            error: function (xhr) {\n                window.stop_ajax=false;\n                isbtn?$(btn).text(origText):$(btn).val(origText);\n                $(btn).removeAttr('disabled');\n                dialog.error('服务器处理错误');\n            }\n        };\n        if (form.attr('enctype') === 'multipart/form-data') {\n            if (!FormData) {\n                window.stop_ajax=false;\n                return true;\n            }\n            options.data = new FormData(form[0]);\n            options.cache = false;\n            options.processData = false;\n            options.contentType = false;\n            options.xhr= function() { //用以显示上传进度\n                var xhr = $.ajaxSettings.xhr();\n                if (xhr.upload) {\n                    xhr.upload.addEventListener('progress', function(event) {\n                        var percent = Math.floor(event.loaded / event.total * 100);\n                        $(btn).text(origText+'  ('+percent+'%)');\n                    }, false);\n                }\n                return xhr;\n            };\n        } else {\n            options.data = $(form).serialize();\n        }\n\n        e.preventDefault();\n        $(this).attr('disabled', true);\n        window.stop_ajax=true;\n        $.ajax(options);\n    });\n\n    //用户选择按钮绑定\n    $('.pickuser').click(function (e) {\n        var group = $(this).parents('.input-group');\n        var idele = group.find('[name=member_id]');\n        var infoele = group.find('[name=member_info]');\n        dialog.pickUser( function (user) {\n            idele.val(user.id);\n            infoele.val('[' + user.id + '] ' + user.username + (user.mobile ? (' / ' + user.mobile) : ''));\n        }, $(this).data('filter'));\n    });\n\n    //位置选择按钮绑定\n    $('.pick-locate').click(function(e){\n        var group=$(this).parents('.input-group');\n        var idele=group.find('input[type=text]');\n        dialog.pickLocate('qq',function(locate){\n            idele.val(locate.lng+','+locate.lat);\n        },idele.val());\n    });\n});","\n(function(window,$) {\n\n\n    var apis = {\n        'baidu': '//api.map.baidu.com/api?ak=__KEY__&v=1.5&services=false&callback=',\n        'google': '//maps.google.com/maps/api/js?key=__KEY__&callback=',\n        'tencent': '//map.qq.com/api/js?v=2.exp&key=__KEY__&callback=',\n        'gaode': '//webapi.amap.com/maps?v=1.3&key=__KEY__&callback='\n    };\n\n    function loadScript(src) {\n        var script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = src;\n        document.body.appendChild(script);\n    }\n\n    var mapObj,mapBox,onPick;\n\n    function InitMap(maptype,box,callback,locate) {\n        if (mapObj) mapObj.hide();\n        mapBox=$(box);\n        onPick=callback;\n\n        switch (maptype.toLowerCase()) {\n            case 'baidu':\n                mapObj = new BaiduMap();\n                break;\n            case 'google':\n                mapObj = new GoogleMap();\n                break;\n            case 'tencent':\n            case 'qq':\n                mapObj = new TencentMap();\n                break;\n            case 'gaode':\n                mapObj = new GaodeMap();\n                break;\n        }\n        if (!mapObj) return dialog.warning('不支持该地图类型');\n        if(locate){\n            if(typeof locate==='string'){\n                var loc=locate.split(',');\n                locate={\n                    lng:parseFloat(loc[0]),\n                    lat:parseFloat(loc[1])\n                }\n            }\n            mapObj.locate=locate;\n        }\n        mapObj.setMap();\n\n        return mapObj;\n    }\n\n    function BaseMap(type) {\n        if(type !== undefined) {\n            var key = 'MAPKEY_' + type.toUpperCase();\n\n            if (!window[key]) {\n                throw 'Pls define the ' + key + ' on window.';\n            }\n\n            this.mapkey = window[key];\n            this.mapType = type;\n            this.ishide = false;\n            this.isshow = false;\n            this.toshow = false;\n            this.marker = null;\n            this.infoWindow = null;\n            this.mapbox = null;\n            this.locate = {lng: 116.396795, lat: 39.933084};\n            this.map = null;\n        }\n    }\n\n    BaseMap.prototype.isAPIReady = function () {\n        return false;\n    };\n    BaseMap.prototype.pointToObject = function () {\n    };\n    BaseMap.prototype.objectToPoint = function () {\n    };\n    BaseMap.prototype.setMap = function () {\n    };\n    BaseMap.prototype.showInfo = function () {\n    };\n    BaseMap.prototype.getCenter = function () {\n    };\n    BaseMap.prototype.getAddress = function (rs) {\n        return \"\";\n    };\n    BaseMap.prototype.setLocate = function (address) {\n    };\n\n    BaseMap.prototype.loadAPI = function () {\n        var self = this;\n        if (!this.isAPIReady()) {\n            this.mapbox = $('<div id=\"' + this.mapType + 'map\" class=\"mapbox\">loading...</div>');\n            mapBox.append(this.mapbox);\n\n            //console.log(this.mapType+' maploading...');\n            var func = 'mapload' + new Date().getTime();\n            window[func] = function () {\n                self.setMap();\n                delete window[func];\n            };\n            var apiurl=apis[this.mapType].replace('__KEY__',this.mapkey);\n            loadScript(apiurl + func);\n            return false;\n        } else {\n            //console.log(this.mapType + ' maploaded');\n            this.mapbox = $('#' + this.mapType + 'map');\n            if (this.mapbox.length < 1) {\n                this.mapbox = $('<div id=\"' + this.mapType + 'map\" class=\"mapbox\"></div>');\n                mapBox.append(this.mapbox);\n            }\n            return true;\n        }\n    };\n    BaseMap.prototype.setInfoContent = function () {\n        if (!this.infoWindow) return;\n        var title = '<b>当前位置</b>';\n        var addr = '<p style=\"line-height:1.6em;\"></p>';\n        if (this.infoWindow.setTitle) {\n            this.infoWindow.setTitle(title);\n            this.infoWindow.setContent(addr);\n        } else {\n            var content = '<h3>' + title + '</h3><div style=\"width:250px\">' + addr + '</div>';\n            this.infoWindow.setContent(content);\n        }\n    };\n    BaseMap.prototype.showAtCenter=function () {\n        var center=this.getCenter();\n        this.showInfo(center);\n    };\n    BaseMap.prototype.showLocationInfo = function (pt, rs) {\n\n        this.showInfo();\n        var address=this.getAddress(rs);\n        var locate={};\n        if (typeof (pt.lng) === 'function') {\n            locate.lng=pt.lng();\n            locate.lat=pt.lat();\n        } else {\n            locate.lng=pt.lng;\n            locate.lat=pt.lat;\n        }\n\n        onPick(address,locate);\n    };\n    BaseMap.prototype.show = function () {\n        this.ishide = false;\n        this.setMap();\n        this.showInfo();\n    };\n    BaseMap.prototype.hide = function () {\n        this.ishide = true;\n        if (this.infoWindow) {\n            this.infoWindow.close();\n        }\n        if (this.mapbox) {\n            $(this.mapbox).remove();\n        }\n    };\n\n\n    function BaiduMap() {\n        BaseMap.call(this, \"baidu\");\n    }\n\n    BaiduMap.prototype = new BaseMap();\n    BaiduMap.prototype.constructor = BaiduMap;\n    BaiduMap.prototype.isAPIReady = function () {\n        return !!window['BMap'];\n    };\n\n    BaiduMap.prototype.setMap = function () {\n        var self = this;\n        if (this.isshow || this.ishide) return;\n        if (!this.loadAPI()) return;\n\n        var map = self.map = new BMap.Map(this.mapbox.attr('id')); //初始化地图\n        map.addControl(new BMap.NavigationControl());  //初始化地图控件\n        map.addControl(new BMap.ScaleControl());\n        map.addControl(new BMap.OverviewMapControl());\n        map.enableScrollWheelZoom();\n\n        var point = this.objectToPoint(this.locate);\n        map.centerAndZoom(point, 15); //初始化地图中心点\n        this.marker = new BMap.Marker(point); //初始化地图标记\n        this.marker.enableDragging(); //标记开启拖拽\n\n        var gc = new BMap.Geocoder(); //地址解析类\n        //添加标记拖拽监听\n        this.marker.addEventListener(\"dragend\", function (e) {\n            //获取地址信息\n            gc.getLocation(e.point, function (rs) {\n                self.showLocationInfo(e.point, rs);\n            });\n        });\n\n        //添加标记点击监听\n        this.marker.addEventListener(\"click\", function (e) {\n            gc.getLocation(e.point, function (rs) {\n                self.showLocationInfo(e.point, rs);\n            });\n        });\n\n        map.addOverlay(this.marker); //将标记添加到地图中\n\n        gc.getLocation(point, function (rs) {\n            self.showLocationInfo(point, rs);\n        });\n\n        this.infoWindow = new BMap.InfoWindow(\"\", {\n            width: 250,\n            title: \"\"\n        });\n\n        this.isshow = true;\n        if (this.toshow) {\n            this.showInfo();\n            this.toshow = false;\n        }\n    };\n    BaiduMap.prototype.pointToObject = function (point) {\n        return {\n            lng:point.lng,\n            lat:point.lat\n        };\n    };\n    BaiduMap.prototype.objectToPoint = function (object) {\n        return new BMap.Point(parseFloat(object.lng),parseFloat(object.lat));\n    };\n    BaiduMap.prototype.getCenter = function () {\n        var center=this.map.getCenter();\n        return this.pointToObject(center);\n    };\n\n    BaiduMap.prototype.showInfo = function (point) {\n        if (this.ishide) return;\n        if (!this.isshow) {\n            this.toshow = true;\n            return;\n        }\n        if(point){\n            this.locate=point;\n            this.marker.panTo(new BMap.Point(point.lng,point.lat));\n        }\n        this.setInfoContent();\n\n        this.marker.openInfoWindow(this.infoWindow);\n    };\n    BaiduMap.prototype.getAddress = function (rs) {\n        var addComp = rs.addressComponents;\n        if(addComp) {\n            return addComp.province + \", \" + addComp.city + \", \" + addComp.district + \", \" + addComp.street + \", \" + addComp.streetNumber;\n        }\n    };\n    BaiduMap.prototype.setLocate = function (address) {\n        // 创建地址解析器实例\n        var myGeo = new BMap.Geocoder();\n        var self = this;\n        myGeo.getPoint(address, function (point) {\n            if (point) {\n                self.map.centerAndZoom(point, 11);\n                self.marker.setPosition(point);\n                myGeo.getLocation(point, function (rs) {\n                    self.showLocationInfo(point, rs);\n                });\n            } else {\n                alert(\"地址信息不正确，定位失败\");\n            }\n        }, '');\n    };\n\n\n    function GoogleMap() {\n        BaseMap.call(this, \"google\");\n        this.infoOpts = {\n            width: 250,     //信息窗口宽度\n            //   height: 100,     //信息窗口高度\n            title: \"\"  //信息窗口标题\n        };\n    }\n\n    GoogleMap.prototype = new BaseMap();\n    GoogleMap.prototype.constructor = GoogleMap;\n    GoogleMap.prototype.isAPIReady = function () {\n        return window['google'] && window['google']['maps']\n    };\n    GoogleMap.prototype.setMap = function () {\n        var self = this;\n        if (this.isshow || this.ishide) return;\n        if (!this.loadAPI()) return;\n\n        //说明地图已切换\n        if (this.mapbox.length < 1) return;\n\n        var map = self.map = new google.maps.Map(this.mapbox[0], {\n            zoom: 15,\n            draggable: true,\n            scaleControl: true,\n            streetViewControl: true,\n            zoomControl: true\n        });\n\n        //获取经纬度坐标值\n        var point = this.objectToPoint(this.locate);\n        map.panTo(point);\n        this.marker = new google.maps.Marker({position: point, map: map, draggable: true});\n\n\n        var gc = new google.maps.Geocoder();\n\n        this.marker.addListener(\"dragend\", function () {\n            point = self.marker.getPosition();\n            gc.geocode({'location': point}, function (rs) {\n                self.showLocationInfo(point, rs);\n            });\n        });\n\n        //添加标记点击监听\n        this.marker.addListener(\"click\", function () {\n            point = self.marker.getPosition();\n            gc.geocode({'location': point}, function (rs) {\n                self.showLocationInfo(point, rs);\n            });\n        });\n\n        gc.geocode({'location': point}, function (rs) {\n            self.showLocationInfo(point, rs);\n        });\n        this.infoWindow = new google.maps.InfoWindow({map: map});\n        this.infoWindow.setPosition(point);\n\n        this.isshow = true;\n        if (this.toshow) {\n            this.showInfo();\n            this.toshow = false;\n        }\n    };\n\n    GoogleMap.prototype.pointToObject = function (point) {\n        return {\n            lng:point.lng,\n            lat:point.lat\n        };\n    };\n    GoogleMap.prototype.objectToPoint = function (object) {\n        return new google.maps.LatLng(parseFloat(object.lat),parseFloat(object.lng));\n    };\n    GoogleMap.prototype.getCenter = function () {\n        var center=this.map.getCenter();\n        return this.pointToObject(center);\n    };\n\n    GoogleMap.prototype.showInfo = function (point) {\n        if (this.ishide) return;\n        if (!this.isshow) {\n            this.toshow = true;\n            return;\n        }\n        if(point){\n            this.locate=point;\n            this.marker.setPosition(this.objectToPoint(point));\n        }\n        this.infoWindow.setOptions({position: this.marker.getPosition()});\n        this.setInfoContent();\n\n    };\n    GoogleMap.prototype.getAddress = function (rs, status) {\n        if (rs && rs[0]) {\n            return rs[0].formatted_address;\n        }\n    };\n    GoogleMap.prototype.setLocate = function (address) {\n        // 创建地址解析器实例\n        var myGeo = new google.maps.Geocoder();\n        var self = this;\n        myGeo.getPoint(address, function (point) {\n            if (point) {\n                self.map.centerAndZoom(point, 11);\n                self.marker.setPosition(point);\n                myGeo.getLocation(point, function (rs) {\n                    self.showLocationInfo(point, rs);\n                });\n            } else {\n                alert(\"地址信息不正确，定位失败\");\n            }\n        }, '');\n    };\n\n    function TencentMap() {\n        BaseMap.call(this, \"tencent\");\n    }\n\n    TencentMap.prototype = new BaseMap();\n    TencentMap.prototype.constructor = TencentMap;\n    TencentMap.prototype.isAPIReady = function () {\n        return window['qq'] && window['qq']['maps'];\n    };\n    TencentMap.prototype.pointToObject = function (point) {\n        return {\n            lng:point.getLng(),\n            lat:point.getLat()\n        };\n    };\n    TencentMap.prototype.objectToPoint = function (object) {\n        return new qq.maps.LatLng(parseFloat(object.lat),parseFloat(object.lng));\n    };\n    TencentMap.prototype.setMap = function () {\n        var self = this;\n        if (this.isshow || this.ishide) return;\n        if (!this.loadAPI()) return;\n\n\n        //初始化地图\n        var map = self.map = new qq.maps.Map(this.mapbox[0], {zoom: 15});\n        //初始化地图控件\n        new qq.maps.ScaleControl({\n            align: qq.maps.ALIGN.BOTTOM_LEFT,\n            margin: qq.maps.Size(85, 15),\n            map: map\n        });\n        //map.addControl(new BMap.OverviewMapControl());\n        //map.enableScrollWheelZoom();\n\n        //获取经纬度坐标值\n        var point = this.objectToPoint(this.locate);\n        map.panTo(point); //初始化地图中心点\n\n        //初始化地图标记\n        this.marker = new qq.maps.Marker({\n            position: point,\n            draggable: true,\n            map: map\n        });\n        this.marker.setAnimation(qq.maps.MarkerAnimation.DOWN);\n\n        //地址解析类\n        var gc = new qq.maps.Geocoder({\n            complete: function (rs) {\n                self.showLocationInfo(point, rs);\n            }\n        });\n\n        qq.maps.event.addListener(this.marker, 'click', function () {\n            point = self.marker.getPosition();\n            gc.getAddress(point);\n        });\n        //设置Marker停止拖动事件\n        qq.maps.event.addListener(this.marker, 'dragend', function () {\n            point = self.marker.getPosition();\n            gc.getAddress(point);\n        });\n\n        gc.getAddress(point);\n\n        this.infoWindow = new qq.maps.InfoWindow({map: map});\n\n        this.isshow = true;\n        if (this.toshow) {\n            this.showInfo();\n            this.toshow = false;\n        }\n    };\n\n    TencentMap.prototype.getCenter = function () {\n        var center=this.map.getCenter();\n        return this.pointToObject(center);\n    };\n\n    TencentMap.prototype.showInfo = function (point) {\n        if (this.ishide) return;\n        if (!this.isshow) {\n            this.toshow = true;\n            return;\n        }\n        if(point){\n            this.locate=point;\n            this.marker.setPosition(this.objectToPoint(point));\n        }\n        this.infoWindow.setPosition(this.marker.getPosition());\n        this.infoWindow.open();\n        this.setInfoContent();\n    };\n\n    TencentMap.prototype.getAddress = function (rs) {\n        if(rs && rs.detail) {\n            return rs.detail.address;\n        }\n    };\n\n    TencentMap.prototype.setLocate = function (address) {\n        // 创建地址解析器实例\n        var self = this;\n        var myGeo = new qq.maps.Geocoder({\n            complete: function (result) {\n                if(result && result.detail && result.detail.location){\n                    var point=result.detail.location;\n                    self.map.setCenter(point);\n                    self.marker.setPosition(point);\n                    self.showLocationInfo(point, result);\n                }else{\n                    alert(\"地址信息不正确，定位失败\");\n                }\n            },\n            error:function(result){\n                alert(\"地址信息不正确，定位失败\");\n            }\n        });\n        myGeo.getLocation(address);\n    };\n\n\n    function GaodeMap() {\n        BaseMap.call(this, \"gaode\");\n        this.infoOpts = {\n            width: 250,     //信息窗口宽度\n            //   height: 100,     //信息窗口高度\n            title: \"\"  //信息窗口标题\n        };\n    }\n\n    GaodeMap.prototype = new BaseMap();\n    GaodeMap.prototype.constructor = GaodeMap;\n    GaodeMap.prototype.isAPIReady = function () {\n        return !!window['AMap']\n    };\n\n    GaodeMap.prototype.setMap = function () {\n        var self = this;\n        if (this.isshow || this.ishide) return;\n        if (!this.loadAPI()) return;\n\n\n        var map = self.map = new AMap.Map(this.mapbox.attr('id'), {\n            resizeEnable: true,\n            dragEnable: true,\n            zoom: 13\n        });\n        map.plugin([\"AMap.ToolBar\", \"AMap.Scale\", \"AMap.OverView\"], function () {\n            map.addControl(new AMap.ToolBar());\n            map.addControl(new AMap.Scale());\n            map.addControl(new AMap.OverView());\n        });\n\n        $('[name=txtLang]').unbind().on('change', function () {\n            var lang = $(this).val();\n            if (lang) map.setLang(lang);\n        }).trigger('change');\n\n\n        //获取经纬度坐标值\n        var point = this.objectToPoint(this.locate);\n        map.setCenter(point);\n\n        this.marker = new AMap.Marker({position: point, map: map}); //初始化地图标记\n        this.marker.setDraggable(true); //标记开启拖拽\n\n\n        this.infoWindow = new AMap.InfoWindow();\n        this.infoWindow.open(map, point);\n\n        map.plugin([\"AMap.Geocoder\"], function () {\n            var gc = new AMap.Geocoder(); //地址解析类\n            //添加标记拖拽监听\n            self.marker.on(\"dragend\", function (e) {\n                //获取地址信息\n                gc.getAddress(e.lnglat, function (st, rs) {\n                    self.showLocationInfo(e.lnglat, rs);\n                });\n            });\n\n            //添加标记点击监听\n            self.marker.on(\"click\", function (e) {\n                gc.getAddress(e.lnglat, function (st, rs) {\n                    self.showLocationInfo(e.lnglat, rs);\n                });\n            });\n\n            gc.getAddress(point, function (st, rs) {\n                self.showLocationInfo(point, rs);\n            });\n        });\n\n        this.isshow = true;\n        if (this.toshow) {\n            this.showInfo();\n            this.toshow = false;\n        }\n    };\n    GaodeMap.prototype.pointToObject = function (point) {\n        return {\n            lng:point.getLng(),\n            lat:point.getLat()\n        };\n    };\n    GaodeMap.prototype.objectToPoint = function (object) {\n        return new AMap.LngLat(object.lng, object.lat);\n    };\n    GaodeMap.prototype.getCenter = function () {\n        var center=this.map.center();\n        return this.pointToObject(center);\n    };\n\n    GaodeMap.prototype.showInfo = function (point) {\n        if (this.ishide) return;\n        if (!this.isshow) {\n            this.toshow = true;\n            return;\n        }\n        if(point){\n            this.marker.setPosition(this.objectToPoint(point));\n        }\n        this.setInfoContent();\n        this.infoWindow.setPosition(this.marker.getPosition());\n    };\n\n    GaodeMap.prototype.getAddress = function (rs) {\n        return rs.regeocode.formattedAddress;\n    };\n\n    GaodeMap.prototype.setLocate = function (address) {\n        // 创建地址解析器实例\n        var myGeo = new AMap.Geocoder();\n        var self = this;\n        myGeo.getPoint(address, function (point) {\n            if (point) {\n                self.map.centerAndZoom(point, 11);\n                self.marker.setPosition(point);\n                myGeo.getLocation(point, function (rs) {\n                    self.showLocationInfo(point, rs);\n                });\n            } else {\n                alert(\"地址信息不正确，定位失败\");\n            }\n        }, '');\n    };\n\n    window.InitMap=InitMap;\n})(window,jQuery);"]}